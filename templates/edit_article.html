{% extends "base.html" %}

{% block content %}
<section id="edit">
    <div class="content">
        <h2>Edit News Article</h2>

        <form method="POST" action="{{ url_for('edit_article', article_id=article.id) }}">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{ article.title }}" required>

            <label for="date">Date</label>
            <input type="text" id="date" name="date" value="{{ article.date }}" required>

            <label for="content">Content</label>
            <textarea id="content" name="content" rows="4" cols="50" required>{{ article.content }}</textarea>

            <label for="image_url">Image URL</label>
            <input type="text" id="image_url" name="image_url" value="{{ article.image_url }}">

            <label for="call_to_action_button">Button name (optional)</label>
            <input type="text" id="call_to_action_button" name="call_to_action_button"
                value="{{ article.call_to_action_button }}">

            <label for="call_to_action_link">Button link (optional)</label>
            <input type="text" id="call_to_action_link" name="call_to_action_link"
                value="{{ article.call_to_action_link }}">

            <div class="split">
                <input type="submit" value="Save Changes" class="btn btn-neutral">
            </div>
        </form>

        <form method="POST" action="{{ url_for('delete_article', article_id=article.id) }}">
            <input type="submit" value="Delete Article" class="btn btn-danger">
        </form>
    </div>
    <div class="card_detail">
        <!-- Display existing article details using JavaScript or server-side rendering -->
        <div id="news-cards">
            <div class="news-card">
                <div class="detail">
                    <img class="news-image fluid" id="image_output" src="{{ article.image_url }}" alt="">
                </div>
                <div class="content">
                    <span id="date_output" class="news-date">{{ article.date }}</span>
                    <h3 id="title_output" class="news-title">{{ article.title }}</h3>
                    <p id="content_output">{{ article.content }}</p>
                    <div class="button-container">
                        <a id="button_output" href="{{ article.call_to_action_link }}" class="btn"
                            style="display: {% if article.call_to_action_button %} block {% else %} none {% endif %};">
                            {{ article.call_to_action_button }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}